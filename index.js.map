{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from \"axios\";\n \nexport default async function getPictures(query, page = 1) {\n  const BASE_URL = \"https://pixabay.com/api/\";\n    try {\n        const response = await axios.get(BASE_URL, {\n            params: {\n                key: '48530484-8b1e6b3578d96dabcf99a211e',\n                q: query,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n                page: page,\n                per_page: 15,\n            },\n        });\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching images:\", error);\n        throw error;\n    }\n}","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captions: 'true',\n        captionsData: 'alt',\n        captionsDelay: 250\n    });\n\nexport function createMurkup(data) {\n  const gallery = document.querySelector('.gallery');\n  \n  let images = data.hits.map((image) => \n    `<div class=\"gallery-item\" >\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n      />\n      </a>\n      <div class=\"item-text\">\n        <div><h5 class=\"top-item-text\">Likes:</h5> <p class=\"numbers\"> ${image.likes}</p>\n        </div>\n        <div> <h5 class=\"top-item-text\">Views:</h5>\n        <p class=\"numbers\"> ${image.views}</p>\n        </div>\n        <div> <h5 class=\"top-item-text\">Comments:</h5>\n        <p class=\"numbers\"> ${image.comments}</p>\n        </div>\n        <div><h5 class=\"top-item-text\">Downloads:</h5>\n        <p class=\"numbers\"> ${image.downloads}</p>\n        </div>\n      </div>\n    </div>`)\n  .join('');\n\n  gallery.insertAdjacentHTML('beforeend', images);\n  lightbox.refresh();\n}\n\nexport function clearMurkup() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = \"\";\n}\n\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from \"simplelightbox\";\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport getPictures from './js/pixabay-api';\nimport {createMurkup, clearMurkup} from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.search-input');\nconst loader = document.querySelector('.loader');\nconst loadMore = document.querySelector('.load-more-btn');\nconst scrollBtn = document.querySelector('.scroll-to-top');\n\nlet pageC = 1;\nlet queryC = \"\";\n\nform.addEventListener('submit', submitBtn);\nloadMore.addEventListener('click', handleLoadMore);\nscrollBtn.addEventListener('click', scrollToTop);\n\nasync function submitBtn(e) {\n    e.preventDefault();\n    clearMurkup();\n    loader.classList.remove('hidden');\n\n    queryC = input.value.trim();\n    pageC = 1;\n     \n    await fetchImg();\n\n    form.reset();\n    \n}\n\nasync function handleLoadMore() {\n    pageC += 1;\n    await fetchImg();\n}\n\nasync function fetchImg() {\n    \n    try {\n        const data = await getPictures(queryC, pageC);\n        loader.classList.add('hidden');\n        if (data.total === 0 || queryC === \"\") {\n            loadMore.classList.add('hidden');\n            scrollBtn.classList.add('hidden');\n            iziToast.info({\n                title: '!',\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                messageSize: '16px',\n                position: 'center',\n                backgroundColor: 'orange'\n            });\n            return;\n        }\n        createMurkup(data);\n\n        if (data.hits.length === 0 || pageC * 15 >= data.totalHits) {\n            loadMore.classList.add('hidden');\n            iziToast.info({\n                title: '!',\n                message: \"We're sorry, but you've reached the end of search results.\",\n                messageSize: '16px',\n                position: 'center',\n                backgroundColor: '#b48dc9'\n            });\n        } else {\n            loadMore.classList.remove('hidden');\n        }\n\n        smoothScroll();\n        showScrollToTop();\n    }  catch (error) {\n        console.error(error);\n        iziToast.error({\n            title: \"Error\",\n            message: `Please add request`,\n            messageSize: '16px',\n            position: 'center',\n            backgroundColor: '#EF4040',\n        });\n        loader.classList.add('hidden');\n\n    };\n}\n\nfunction smoothScroll() {\n    const gallery = document.querySelector('.gallery');\n    if (gallery) {\n        const { height: cardHeight } = gallery.firstElementChild.getBoundingClientRect();\n        window.scrollBy({\n            top: cardHeight * 2,\n            behavior: 'smooth',\n        });\n    }\n}\n\nfunction showScrollToTop() {\n    if (window.scrollY > 1000) {\n        scrollBtn.classList.remove('hidden');\n        \n    } else {\n        scrollBtn.classList.add('hidden');\n    }\n}\n\nfunction scrollToTop() {\n    window.scrollTo({\n        top: 0,\n        behavior: 'auto',\n    });\n}\n\nwindow.addEventListener('scroll', scrollBtn);\n "],"names":["getPictures","query","page","BASE_URL","axios","error","lightbox","SimpleLightbox","createMurkup","data","gallery","images","image","clearMurkup","form","input","loader","loadMore","scrollBtn","pageC","queryC","submitBtn","handleLoadMore","scrollToTop","fetchImg","iziToast","smoothScroll","showScrollToTop","cardHeight"],"mappings":"owBAGe,eAAeA,EAAYC,EAAOC,EAAO,EAAG,CACzD,MAAMC,EAAW,2BACf,GAAI,CAYA,OAXiB,MAAMC,EAAM,IAAID,EAAU,CACvC,OAAQ,CACJ,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAU,EACb,CACb,CAAS,GACe,IACnB,OAAQG,EAAO,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACd,CACA,CClBI,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,OACV,aAAc,MACd,cAAe,GACvB,CAAK,EAEE,SAASC,EAAaC,EAAM,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAASF,EAAK,KAAK,IAAKG,GAC1B;AAAA,sCACkCA,EAAM,aAAa;AAAA;AAAA;AAAA,eAG1CA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,yEAIgDA,EAAM,KAAK;AAAA;AAAA;AAAA,8BAGtDA,EAAM,KAAK;AAAA;AAAA;AAAA,8BAGXA,EAAM,QAAQ;AAAA;AAAA;AAAA,8BAGdA,EAAM,SAAS;AAAA;AAAA;AAAA,WAGlC,EACR,KAAK,EAAE,EAERF,EAAQ,mBAAmB,YAAaC,CAAM,EAC9CL,EAAS,QAAS,CACpB,CAEO,SAASO,GAAc,CAC5B,MAAMH,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CCpCA,MAAMI,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EAAQ,EACRC,EAAS,GAEbN,EAAK,iBAAiB,SAAUO,CAAS,EACzCJ,EAAS,iBAAiB,QAASK,CAAc,EACjDJ,EAAU,iBAAiB,QAASK,CAAW,EAE/C,eAAeF,EAAU,EAAG,CACxB,EAAE,eAAgB,EAClBR,EAAa,EACbG,EAAO,UAAU,OAAO,QAAQ,EAEhCI,EAASL,EAAM,MAAM,KAAM,EAC3BI,EAAQ,EAER,MAAMK,EAAU,EAEhBV,EAAK,MAAO,CAEhB,CAEA,eAAeQ,GAAiB,CAC5BH,GAAS,EACT,MAAMK,EAAU,CACpB,CAEA,eAAeA,GAAW,CAEtB,GAAI,CACA,MAAMf,EAAO,MAAMT,EAAYoB,EAAQD,CAAK,EAE5C,GADAH,EAAO,UAAU,IAAI,QAAQ,EACzBP,EAAK,QAAU,GAAKW,IAAW,GAAI,CACnCH,EAAS,UAAU,IAAI,QAAQ,EAC/BC,EAAU,UAAU,IAAI,QAAQ,EAChCO,EAAS,KAAK,CACV,MAAO,IACP,QAAS,2EACT,YAAa,OACb,SAAU,SACV,gBAAiB,QACjC,CAAa,EACD,MACZ,CACQjB,EAAaC,CAAI,EAEbA,EAAK,KAAK,SAAW,GAAKU,EAAQ,IAAMV,EAAK,WAC7CQ,EAAS,UAAU,IAAI,QAAQ,EAC/BQ,EAAS,KAAK,CACV,MAAO,IACP,QAAS,6DACT,YAAa,OACb,SAAU,SACV,gBAAiB,SACjC,CAAa,GAEDR,EAAS,UAAU,OAAO,QAAQ,EAGtCS,EAAc,EACdC,EAAiB,CACpB,OAAStB,EAAO,CACb,QAAQ,MAAMA,CAAK,EACnBoB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qBACT,YAAa,OACb,SAAU,SACV,gBAAiB,SAC7B,CAAS,EACDT,EAAO,UAAU,IAAI,QAAQ,CAGrC,CAAA,CAEA,SAASU,GAAe,CACpB,MAAMhB,EAAU,SAAS,cAAc,UAAU,EACjD,GAAIA,EAAS,CACT,KAAM,CAAE,OAAQkB,CAAU,EAAKlB,EAAQ,kBAAkB,sBAAuB,EAChF,OAAO,SAAS,CACZ,IAAKkB,EAAa,EAClB,SAAU,QACtB,CAAS,CACT,CACA,CAEA,SAASD,GAAkB,CACnB,OAAO,QAAU,IACjBT,EAAU,UAAU,OAAO,QAAQ,EAGnCA,EAAU,UAAU,IAAI,QAAQ,CAExC,CAEA,SAASK,GAAc,CACnB,OAAO,SAAS,CACZ,IAAK,EACL,SAAU,MAClB,CAAK,CACL,CAEA,OAAO,iBAAiB,SAAUL,CAAS"}